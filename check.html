<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tax Documents Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .checkbox-item:checked + label {
            text-decoration: line-through;
            color: #9ca3af;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen py-8 px-4">
    <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-6">
        <header class="mb-8 border-b pb-4">
            <h1 class="text-2xl font-bold text-gray-800">Tax Documents Checklist</h1>
            <p class="text-gray-500 text-sm">Interest & Dividends Tracking. Progress is saved automatically.</p>
            <div class="mt-4 bg-gray-100 rounded-full h-2 w-full">
                <div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
            <p id="stats" class="text-xs text-right mt-1 text-gray-400">0 of 0 completed</p>
        </header>

        <div id="checklist-container">
            <!-- Content generated by JS -->
        </div>

        <div class="mt-8 flex justify-between items-center border-t pt-6">
            <button onclick="resetChecklist()" class="text-sm text-red-600 hover:text-red-800 font-medium">Reset All Data</button>
            <div id="save-indicator" class="text-xs text-green-600 opacity-0 transition-opacity">Saved to local storage</div>
        </div>
    </div>

    <script>
        const checklistData = {
            "Interest Income (1099-INT)": [
                "Goldman Sachs Bank USA",
                "Goldman Sachs Bank USA (Second account)",
                "National Financial Services LLC",
                "Treasury",
                "Axos Bank",
                "Texas Capital Bank",
                "Flagstar",
                "Comenity",
                "Citibank - Srini",
                "Midfirst",
                "Synchrony",
                "CapitalOne - Srini",
                "Capital One - Shoba",
                "Forbright - Srini",
                "Wealthfront",
                "Forbright - Shoba",
                "Raisin - Srini",
                "Raisin - Shoba",
                "Goldman Sachs - Marcus",
                "Morgan Stanley Capital Mgmt",
                "CIBC",
                "CIBC (Second account)",
                "American Enterprise Investment Services Inc.",
                "American Enterprise Investment Services Inc. (Second account)"
            ],
            "Dividend Income (1099-DIV)": [
                "Wealthfront",
                "National Financial Services LLC",
                "Wealthfront (Second account)",
                "National Financial Services LLC (Second account)",
                "Betterment Securities",
                "Vanguard Marketing Corp / Vanguard Brokerage",
                "Morgan Stanley Capital Mgmt",
                "Robinhood Markets Inc (as agent for Robinhood Securities LLC)",
                "Wealthfront (Third account)",
                "American Enterprise Investment Services Inc.",
                "American Enterprise Investment Services Inc. (Second account)",
                "American Enterprise Investment Services Inc. (Third account)"
            ],
            "HSA Distributions (1099-SA)": [
                "National Financial Services"
            ]
        };

        const STORAGE_KEY = 'tax_checklist_state';

        function init() {
            const container = document.getElementById('checklist-container');
            const savedState = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');

            Object.entries(checklistData).forEach(([category, items]) => {
                const section = document.createElement('div');
                section.className = "mb-8";
                
                const title = document.createElement('h2');
                title.className = "text-lg font-semibold text-gray-700 mb-3 flex items-center";
                title.innerHTML = category;
                section.appendChild(title);

                const list = document.createElement('div');
                list.className = "space-y-2";

                items.forEach((item, index) => {
                    const itemId = `${category}-${index}`.replace(/\s+/g, '-').toLowerCase();
                    const isChecked = savedState[itemId] || false;

                    const row = document.createElement('div');
                    row.className = "flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100";
                    
                    row.innerHTML = `
                        <input type="checkbox" id="${itemId}" class="checkbox-item h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500 cursor-pointer" ${isChecked ? 'checked' : ''}>
                        <label for="${itemId}" class="ml-3 text-gray-700 cursor-pointer flex-grow select-none">${item}</label>
                    `;

                    row.querySelector('input').addEventListener('change', (e) => saveState());
                    list.appendChild(row);
                });

                section.appendChild(list);
                container.appendChild(section);
            });

            updateProgress();
        }

        function saveState() {
            const state = {};
            const checkboxes = document.querySelectorAll('.checkbox-item');
            checkboxes.forEach(cb => {
                state[cb.id] = cb.checked;
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
            
            // Show saved indicator
            const indicator = document.getElementById('save-indicator');
            indicator.style.opacity = '1';
            setTimeout(() => { indicator.style.opacity = '0'; }, 1500);
            
            updateProgress();
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('.checkbox-item');
            const total = checkboxes.length;
            const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
            const percentage = (checked / total) * 100;

            document.getElementById('progress-bar').style.width = `${percentage}%`;
            document.getElementById('stats').innerText = `${checked} of ${total} completed`;
        }

        function resetChecklist() {
            if (confirm('Are you sure you want to clear all checks? This cannot be undone.')) {
                localStorage.removeItem(STORAGE_KEY);
                location.reload();
            }
        }

        window.onload = init;
    </script>
</body>
</html>